<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="project.healingcamp.mapper.pageMapper">
  
  <!--회원가입 수정전 비밀번호 인증 -->
  	<select id="pwCheck" parameterType="userVo" resultType="userVo">
  		select pw
  			from usertable
  			where pw=#{pw}
 
  	</select>
  <!-- 마이페이지 나의 글쓰기 목록 -->
   <select id="list" resultType="cboardVO" parameterType="myCriteria">
			<![CDATA[
				select * 
			from (
				select rownum as rnum, a. *
				 from (
				 	select * 
				 	from  boardtable
				 	 where uidx=#{uidx} and delyn='N'
				 	 order by wdate desc
			 		)a 
					)
					WHERE RNUM BETWEEN (#{page}-1)*#{perPageNum}+1 AND #{page}*#{perPageNum}
			 ]]>
  </select>
  
   <!-- 전체 게시글 수를 구하는 sql문 -->
    <select id="total" resultType="int" parameterType="myCriteria">
        select count(*) 
	        from boardtable
	      	  where uidx=#{uidx} and delyn='N' 
    </select>
  
  
  </mapper>